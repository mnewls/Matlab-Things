%% Homework 8
clear
clc
format long
%f(x) = sinx - cosx
%h = E-1 -> E-12
h = [1E-1, 1E-2, 1E-3, 1E-4, 1E-5, 1E-6, 1E-7, 1E-8, 1E-9, 1E-10, 1E-11, 1E-12]';
x = 0;
f_x = (sin(x + h) + cos(x + h) - (sin(x-h) + cos(x-h))) ./ (2.*h);
err = 1-f_x;

T = table(h,f_x, err)

loglog(h,err)
xlabel('h')
ylabel('err')

%using log-log scale we can see the minimum error exists with an x of 1E-5

%output:

% T =
% 
%   12×3 table
% 
%       h              f_x                    err         
%     ______    _________________    _____________________
% 
%        0.1    0.998334166468282       0.0016658335317179
%       0.01    0.999983333416665     1.66665833347679e-05
%      0.001    0.999999833333376     1.66666624057399e-07
%     0.0001     0.99999999833289     1.66711000559872e-09
%      1e-05    0.999999999984347     1.56533674910975e-11
%      1e-06    0.999999999973245     2.67554867150466e-11
%      1e-07    0.999999999473644     5.26355847796367e-10
%      1e-08    0.999999999473644     5.26355847796367e-10
%      1e-09     1.00000002722922    -2.72292197678325e-08
%      1e-10     1.00000008274037    -8.27403709990904e-08
%      1e-11     1.00000008274037    -8.27403709990904e-08
%      1e-12     1.00003338943111    -3.33894311097538e-05
% 
% Warning: Negative data ignored 





